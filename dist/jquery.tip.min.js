!function(a){"use strict";var b=function(a,b){this.element=a,this.type=b};b.prototype={add:function(a){this.callback=a,this.element.addEventListener(this.type,this.callback,!1)},remove:function(){this.element.removeEventListener(this.type,this.callback,!1)}};var c=function(a){this.element=a,this.transitionEnd=this.whichTransitionEnd(),this.event=new b(this.element,this.transitionEnd)};c.prototype={whichTransitionEnd:function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var b in a)if(void 0!==this.element.style[b])return a[b]},bind:function(a){this.event.add(a)},unbind:function(){this.event.remove()}};var d={list:[],getPosition:function(a){if(Array.prototype.indexOf)return this.list.indexOf(a);for(var b=0,c=this.list.length;c>b;b++)if(this.list[b]===a)return b;return-1},insert:function(a){var b=this.getPosition(a),d=-1!==b;return d||(this.list.push(a),this.list.push(new c(a)),b=this.getPosition(a)),this.list[b+1]}};a.transitionEnd=function(a){if(!a)throw"You need to pass an element as parameter!";var b=a[0]||a,c=d.insert(b);return c}}(window),function(a){var b=a,c=function(a,c){this.target=a,this.options=b.extend({html:a.attr("data-tip"),margin:4,delay:0,direction:"bottom"},c),this.tip=b('<div class="widget-tip">'),this.text=b('<div class="widget-tip-text">'),this.pointer=b('<div class="widget-tip-pointer">'),this.tip.append(this.text).append(this.pointer),this.setClass("bottom"),"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?b(window).on("touchend",function(c){a=b(c.target).closest(this.target),this[a.length?"show":"hide"]()}.bind(this)):this.target.hover(b.proxy(this.show,this),b.proxy(this.hide,this))};c.prototype.setClass=function(a){-1!=b.inArray(a,["top","bottom"])&&this.tip.removeClass("bottom top").addClass(a)},c.prototype.show=function(){var a=this,c=this.target,d=this.text,e=this.tip,f=this.options;e.clearQueue().delay(f.delay).queue(function(){e.removeClass("animate").removeClass("active"),b(this).dequeue()}).delay(50).queue(function(){d.html(f.html),b("body").append(e);var g=b(c).offset(),h=b(c).outerHeight(),i=b(c).outerWidth(),j=e.outerHeight(),k=e.outerWidth(),l=b(window).height(),m=b(window).width(),n=0,o=g.left+i/2-k/2;"bottom"==f.direction?g.top+h+j+f.margin<l?(n=g.top+h+f.margin,a.setClass("bottom")):(e.removeClass("bottom").addClass("top"),n=g.top-j-f.margin,a.setClass("top")):g.top-j-f.margin>0?(n=g.top-j-f.margin,a.setClass("top")):(n=g.top+h+f.margin,a.setClass("bottom")),g.left+i/2+k/2>m?o-=g.left+i/2+k/2-m+f.margin:g.left+i/2-k/2<0&&(o=f.margin),e.css({top:n,left:o}),b(this).dequeue()}).delay(0).queue(function(){e.addClass("animate"),b(this).dequeue()}).delay(50).queue(function(){e.addClass("active"),transitionEnd(e).bind(b.proxy(function(){b(this).dequeue(),transitionEnd(e).unbind()},this))}).queue(function(){e.removeClass("animate"),b(this).dequeue()})},c.prototype.hide=function(){var a=(this.text,this.tip);a.clearQueue().delay(0).queue(function(){a.addClass("animate"),b(this).dequeue()}).delay(50).queue(function(){a.removeClass("active"),transitionEnd(a).bind(b.proxy(function(){b(this).dequeue(),transitionEnd(a).unbind()},this))}).queue(function(){a.removeClass("animate"),a.detach(),b(this).dequeue()})},a.fn.tip=function(a){typeof a!=typeof{}&&(option={}),b(this).each(function(){b(this).attr("data-tip")&&new c(b(this),a)})}}(jQuery);